{"version":3,"file":"drawWrapper.js","sourceRoot":"","sources":["../../../../../lts/core/generated/Materials/drawWrapper.ts"],"names":[],"mappings":"AAQA,cAAc;AACd;IAcI,qBAAY,MAAkB,EAAE,qBAA4B;QAA5B,sCAAA,EAAA,4BAA4B;QACxD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACnB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,iBAAiB,EAAE,CAAC;QAC9C,IAAI,qBAAqB,EAAE;YACvB,IAAI,CAAC,eAAe,GAAG,MAAM,CAAC,qBAAqB,EAAE,CAAC;SACzD;IACL,CAAC;IAfa,qBAAS,GAAvB,UAAwB,MAA4B;QAChD,OAAQ,MAAiB,CAAC,kBAAkB,KAAK,SAAS,CAAC;IAC/D,CAAC;IAEa,qBAAS,GAAvB,UAAwB,MAA4B;QAChD,OAAQ,MAAiB,CAAC,kBAAkB,KAAK,SAAS,CAAC,CAAC,CAAE,MAAsB,CAAC,MAAM,CAAC,CAAC,CAAE,MAAiB,CAAC;IACrH,CAAC;IAWM,+BAAS,GAAhB,UAAiB,MAAwB,EAAE,OAA4C,EAAE,YAAmB;;QAAnB,6BAAA,EAAA,mBAAmB;QACxG,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,OAAO,KAAK,SAAS,EAAE;YACvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;SAC1B;QACD,IAAI,YAAY,EAAE;YACd,MAAA,IAAI,CAAC,WAAW,0CAAE,KAAK,EAAE,CAAC;SAC7B;IACL,CAAC;IAEM,6BAAO,GAAd;;QACI,MAAA,IAAI,CAAC,WAAW,0CAAE,OAAO,EAAE,CAAC;IAChC,CAAC;IACL,kBAAC;AAAD,CAAC,AApCD,IAoCC","sourcesContent":["import type { IDrawContext } from \"../Engines/IDrawContext\";\r\nimport type { IMaterialContext } from \"../Engines/IMaterialContext\";\r\nimport type { Nullable } from \"../types\";\r\n\r\ndeclare type ThinEngine = import(\"../Engines/thinEngine\").ThinEngine;\r\ndeclare type Effect = import(\"./effect\").Effect;\r\ndeclare type MaterialDefines = import(\"./materialDefines\").MaterialDefines;\r\n\r\n/** @hidden */\r\nexport class DrawWrapper {\r\n    public effect: Nullable<Effect>;\r\n    public defines: Nullable<string | MaterialDefines>;\r\n    public materialContext?: IMaterialContext;\r\n    public drawContext?: IDrawContext;\r\n\r\n    public static IsWrapper(effect: Effect | DrawWrapper): effect is DrawWrapper {\r\n        return (effect as Effect).getPipelineContext === undefined;\r\n    }\r\n\r\n    public static GetEffect(effect: Effect | DrawWrapper): Nullable<Effect> {\r\n        return (effect as Effect).getPipelineContext === undefined ? (effect as DrawWrapper).effect : (effect as Effect);\r\n    }\r\n\r\n    constructor(engine: ThinEngine, createMaterialContext = true) {\r\n        this.effect = null;\r\n        this.defines = null;\r\n        this.drawContext = engine.createDrawContext();\r\n        if (createMaterialContext) {\r\n            this.materialContext = engine.createMaterialContext();\r\n        }\r\n    }\r\n\r\n    public setEffect(effect: Nullable<Effect>, defines?: Nullable<string | MaterialDefines>, resetContext = true): void {\r\n        this.effect = effect;\r\n        if (defines !== undefined) {\r\n            this.defines = defines;\r\n        }\r\n        if (resetContext) {\r\n            this.drawContext?.reset();\r\n        }\r\n    }\r\n\r\n    public dispose(): void {\r\n        this.drawContext?.dispose();\r\n    }\r\n}\r\n"]}